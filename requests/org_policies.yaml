policies:
###########################################################
# Organization-wide policies
###########################################################
- organization: 116143322321
  constraints:
  - constraints/compute.disableSerialPortAccess
  - constraints/storage.uniformBucketLevelAccess
  - constraints/compute.skipDefaultNetworkCreation
  - constraints/iam.disableServiceAccountKeyCreation
  boolean_policy:
    enforced: true

- organization: 116143322321
  constraint: constraints/iam.allowedPolicyMemberDomains
  list_policy:
    allow:
      values: ['C018pf49b']

###########################################################
# Project exceptions
###########################################################
# Allow the creation of service account keys in the break glass project
- project: my-break-glass-project
  constraint: constraints/iam.disableServiceAccountKeyCreation
  boolean_policy:
    enforced: false

# Allow sharing with other domains in the shared project
- project: my-promiscuous-project
  constraint: constraints/iam.allowedPolicyMemberDomains
  restore_policy:
    default: true

# Allow a partner's domain to a particular project
- project: my-partner-project
  constraint: constraints/iam.allowedPolicyMemberDomains
  list_policy:
    allow:
      values: ['C018pf49b', 'abcde01b']

###########################################################
# Folder exceptions
###########################################################
# deactivate these constraints in the sandbox folders and one additional
# sandbox project located elsewhere.
- folders:
  - US/Sandboxes
  - UK/Sandboxes
  - FR/Sandboxes
  project: lonely-sandbox-project
  constraints:
  - constraints/compute.disableSerialPortAccess
  - constraints/compute.skipDefaultNetworkCreation
  boolean_policy:
    enforced: false
